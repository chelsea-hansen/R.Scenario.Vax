[{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 RSVimmunizations authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Chelsea Hansen. Author, maintainer.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hansen C (2024). R.Scenario.Vax: Scenario Projections RSV Hospitalizations. R package version 0.0.0.9000, https://chelsea-hansen.github.io/R.Scenario.Vax/, https://github.com/chelsea-hansen/R.Scenario.Vax.","code":"@Manual{,   title = {R.Scenario.Vax: Scenario Projections for RSV Hospitalizations},   author = {Chelsea Hansen},   year = {2024},   note = {R package version 0.0.0.9000, https://chelsea-hansen.github.io/R.Scenario.Vax/},   url = {https://github.com/chelsea-hansen/R.Scenario.Vax}, }"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"rscenariovax","dir":"","previous_headings":"","what":"Scenario Projections for RSV Hospitalizations","title":"Scenario Projections for RSV Hospitalizations","text":"goal R.Scenario.Vax fit deterministic, compartmental transmission model RSV hospitalization data provide scenario projections number hospitalizations averted due new immunization products.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Scenario Projections for RSV Hospitalizations","text":"can install development version R.Scenario.Vax GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"chelsea-hansen/R.Scenario.Vax\")"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"model-diagram","dir":"","previous_headings":"","what":"Model Diagram","title":"Scenario Projections for RSV Hospitalizations","text":"Model Diagram","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"fixed-model-parameters","dir":"","previous_headings":"","what":"Fixed Model Parameters","title":"Scenario Projections for RSV Hospitalizations","text":"References: 1. Pitzer et al.; 2. Hodgson et al.; 3. Ohuma et al. ","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"sample-data","dir":"","previous_headings":"","what":"Sample Data","title":"Scenario Projections for RSV Hospitalizations","text":"package includes 2 built-data sets based data RSV-Net RSV-Net. timeseries: Weekly time series RSV hospitalizations 7 states (ages) age_distribution: proportion RSV hospitalizations age group state (based 2018-19 2019-20 seasons ) Notes: * RSV-Net data included 7 states began reporting RSV-Net 2016. RSV-Net provides data RSV hospitalization rates. converted approximate number hospitalizations use model. RSV-Net include data children 2018. Simulated data children added based weekly average RSV hospitalization rate 2018-19 2019-20 RSV seasons.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Scenario Projections for RSV Hospitalizations","text":"walk example using data New York state.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"step-1-retrieve-starting-values-and-fixed-parameters","dir":"","previous_headings":"Example","what":"Step 1: Retrieve starting values and fixed parameters","title":"Scenario Projections for RSV Hospitalizations","text":"model requires data birth rates, net migration rates, age-specific population distribution. get_data() function pull necessary data using tidycensus R package year 2022 (recent available data). annual birth rate converted weekly number births used introduce new individuals <2m age class. model assumes individuals age exponentially next age class rate aging equal inverse time spent age class. net migration rate applied uniformly across age classes. model uses expanded version contact matrix described Mossong et al. define contacts age classes. get_data() function retrieve fixed parameter values well population data needed run model. function returns list 3 values. 1. Fixed parameters 2. Initial values model compartments 3. Vectorized version initial values model compartments","code":"library(R.Scenario.Vax)  ny_data = get_data(state_or_county=\"state\",state_abbr=\"NY\",county_name=NULL)  fixed_parameters = ny_data[[1]] yinit = ny_data[[2]] yinit.vector = ny_data[[3]]"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"step-2-fit-model-to-data","dir":"","previous_headings":"Example","what":"Step 2: Fit model to data","title":"Scenario Projections for RSV Hospitalizations","text":"fit_model() function fit model parameters using maximum likelihood estimation. model fit 7 parameters total. first extract data New York sample data sets. also want fit data COVID-19 pandemic. function produce figure fitting complete showing fit timeseries age_distribution data sets.","code":"timeseries_ny = timeseries %>% filter(state==\"New York\",date<'2020-04-01') age_distribution_ny = age_distribution %>% filter(state==\"New York\")  fitNY = fit_model(time_series = timeseries_ny$value,                    age_dist = age_distribution_ny$proportion,                    parmset = fixed_parameters,                   yinit = yinit,                   yinit.vector = yinit.vector)"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"step-3-scenario-projections","dir":"","previous_headings":"Example","what":"Step 3: Scenario Projections","title":"Scenario Projections for RSV Hospitalizations","text":"fitted parameters, use scenario_projection() function run scenario projections number RSV hospitalizations based number immunizations administered. running one example , can run many scenarios. like use Shiny App display results, please make sure run counterfactual scenario name “Counterfactual” projection_intervals = TRUE.","code":"scenarioA = scenario_projection(fitted_parms  = fitNY,                                 parmset = fixed_parameters,                                 yinit=yinit,                                 yinit.vector=yinit.vector,                                 data_start = '2016-10-08',                                 projection_start = '2024-10-01',                                 projection_end = '2025-06-01',                                 adult_start = '2024-08-01',                                 adult_end = '2025-05-01',                                 adult75_doses = 400000,                                 adult75_doses_last_year = 750000,                                 adult65_74_doses = 100000,                                 adult65_74_doses_last_year = 250000,                                 maternal_start = '2024-09-01',                                 maternal_end = '2025-01-31',                                 maternal_doses = 50000,                                 monoclonal_catchup_start = '2024-10-01',                                 monoclonal_catchup_end = '2025-03-01',                                 monoclonal_catchup_doses = 75000,                                 monoclonal_birth_start = '2024-10-01',                                 monoclonal_birth_end = '2025-03-01',                                 monoclonal_birth_doses = 75000,                                 scenario_name=\"Scenario A\",                                 projection_intervals=TRUE )"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/index.html","id":"step-4-launch-shiny-app","dir":"","previous_headings":"Example","what":"Step 4: Launch Shiny App","title":"Scenario Projections for RSV Hospitalizations","text":"run several scenarios (including “Counterfactual”), combine scenarios using rbind() bind_rows() save .rds file. Launch Shiny App using code . Shiny App ask upload saved results.","code":"display_scenarios()"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/age_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Age distribution of RSV hospitalizations (data frame) — age_distribution","title":"Age distribution of RSV hospitalizations (data frame) — age_distribution","text":"data frame showing age distribution RSV hospitalizations. Data available 7 states began participation RSV-Net 2016.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/age_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Age distribution of RSV hospitalizations (data frame) — age_distribution","text":"","code":"age_distribution"},{"path":[]},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/age_distribution.html","id":"age-distribution","dir":"Reference","previous_headings":"","what":"age_distribution","title":"Age distribution of RSV hospitalizations (data frame) — age_distribution","text":"data frame 42 rows 3 columns: state state name (California, Georgia, Maryland, Minnesota, New York, Tennessee, Oregon) age_group age group (<6 months, 6-11 months, 1-4 years, 5-64 years, 65-74 years, 75+ years) proportion proportion RSV hospitalizations 2018-2019 2029-2020 seasons","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/age_distribution.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Age distribution of RSV hospitalizations (data frame) — age_distribution","text":"https://data.cdc.gov/Public-Health-Surveillance/Weekly-Rates--Laboratory-Confirmed-RSV-Hospitali/29hc-w46k/about_data","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/display_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch Shiny App to display scenario projections (function) — display_scenarios","title":"Launch Shiny App to display scenario projections (function) — display_scenarios","text":"function launches Shiny App included package. Shiny App allows users upload saved results package functions display scenario projections. order Shiny App work, make sure one scenarios called \"Counterfactual\" projection_intervals = TRUE","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/display_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch Shiny App to display scenario projections (function) — display_scenarios","text":"","code":"display_scenarios()"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fitLL.html","id":null,"dir":"Reference","previous_headings":"","what":"Fitted parameter values (list) — fitLL","title":"Fitted parameter values (list) — fitLL","text":"Sample output fit_model() function","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fitLL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fitted parameter values (list) — fitLL","text":"","code":"fitLL"},{"path":[]},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fitLL.html","id":"fitll","dir":"Reference","previous_headings":"","what":"fitLL","title":"Fitted parameter values (list) — fitLL","text":"list 9 items: list item 1 numeric value representing fitted baseline transmission rate. list item 2 numeric value representing fitted amplitude seasonal forcing. list item 3 numeric value representing fitted phase seasonal forcing. list item 4 numeric value representing fitted value proportion RSV infections leading reported hospitalizations infants <2 months. list item 5 numeric value representing fitted value proportion RSV infections leading reported hospitalizations children 1-4 years. list item 6 numeric value representing fitted value proportion RSV infections leading reported hospitalizations ages 5-64 years. list item 7 numeric value representing fitted value proportion RSV infections leading reported hospitalizations adults 65 - 74 years. list item 8 numeric value representing fitted value proportion RSV infections leading reported hospitalizations adults 75+ years. list item 9 matix 3 columns 100 rows parameters values (baseline transmission +/- 5%, amplitude +/- 5%, phase +/- 1.5%) resampled using latin hypercube sampling.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fit_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit model parameters (function) — fit_model","title":"Fit model parameters (function) — fit_model","text":"function uses maximum likelihood estimation fit model parameters. function uses optim function stats package R.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fit_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit model parameters (function) — fit_model","text":"","code":"fit_model(time_series, age_dist, parmset, yinit, yinit.vector)"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fit_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit model parameters (function) — fit_model","text":"time_series RSV hospitalization time series. Make sure rounded whole numbers. age_dist proportion RSV hospitalizations age group (age groups include: <6 months,6-11 months,1-4 years,5-64 years, 65-74 years, 75+ years) parmset list fixed parameters (retrieved using get_data() function) yinit matrix initial values model compartment(retrieved get_data() function) yinit.vector vector initial values model compartment (retrieved get_data() function)","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fit_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit model parameters (function) — fit_model","text":"list fitted parameter values. Prints plot showing fitted model.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/fit_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit model parameters (function) — fit_model","text":"","code":"dat = get_data(state_or_county=\"state\",state_abbr=\"CA\",county_name=NULL) #> Using the Vintage 2022 Population Estimates #> Using the Vintage 2022 Population Estimates parmset=dat[[1]] yinit=dat[[2]] yinit.vector=dat[[3]]  weekly_rsv = round(timeseries[which(timeseries$state==\"California\"),\"value\"])  fitLL = fit_model(time_series = weekly_rsv$value, age_dist = c(.19,.08,.23,.17,.10,.23), parmset=parmset,yinit=yinit,yinit.vector=yinit.vector)"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/get_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and format data for RSV dynamic transmission model (function) — get_data","title":"Download and format data for RSV dynamic transmission model (function) — get_data","text":"Download format data RSV dynamic transmission model (function). function returns list 3 items. used fit_model() function","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/get_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and format data for RSV dynamic transmission model (function) — get_data","text":"","code":"get_data(state_or_county, state_abbr, county_name)"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/get_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and format data for RSV dynamic transmission model (function) — get_data","text":"state_or_county describe modeling \"state\" \"county\" state_abbr two letter state abbreviation (need even modeling county) county_name name county (modeling state list NULL )","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/get_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and format data for RSV dynamic transmission model (function) — get_data","text":"list values","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/get_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and format data for RSV dynamic transmission model (function) — get_data","text":"","code":"data_california = get_data(state_or_county=\"state\",state_abbr=\"CA\",county_name=NULL) #> Using the Vintage 2022 Population Estimates #> Using the Vintage 2022 Population Estimates data_kingcounty = get_data(state_or_county=\"county\",state_abbr=\"WA\",county_name=\"King\") #> Using the Vintage 2022 Population Estimates #> Using the Vintage 2022 Population Estimates"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/scenario_projection.html","id":null,"dir":"Reference","previous_headings":"","what":"Scenario Projections (function) — scenario_projection","title":"Scenario Projections (function) — scenario_projection","text":"Run scenario projections different levels immunization coverage.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/scenario_projection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Scenario Projections (function) — scenario_projection","text":"","code":"scenario_projection(   fitted_parms,   parmset,   yinit,   yinit.vector,   data_start,   projection_start,   projection_end,   adult_start,   adult_end,   adult75_doses,   adult75_doses_last_year,   adult65_74_doses,   adult65_74_doses_last_year,   maternal_start,   maternal_end,   maternal_doses,   monoclonal_catchup_start,   monoclonal_catchup_end,   monoclonal_catchup_doses,   monoclonal_birth_start,   monoclonal_birth_end,   monoclonal_birth_doses,   scenario_name,   projection_intervals = TRUE )"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/scenario_projection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Scenario Projections (function) — scenario_projection","text":"fitted_parms list fitted parameters estimated using fit_model() function. parmset list fixed parameters, retrieved get_data() function. yinit matrix initial compartment values, retrieved get_data() function. yinit.vector vector initial compartment values, retrieved get_data() function. data_start start data RSV time series data. projection_start user defined start date projection period. projection_end user defined end date projection period. adult_start start date vaccination older adults projection period. adult_end end date vaccination older adults projection period. adult75_doses number vaccine doses administered adults 75+ years period vaccine administration. adult75_doses_last_year number vaccine doses administered adults 75+ years previous season. adult65_74_doses number vaccine doses administered adults 65-74 years period vaccine administration. adult65_74_doses_last_year number vaccine doses administered adults 65-74 years previous season. maternal_start start date maternal vaccination projection period. maternal_end end date maternal vaccination projection period. maternal_doses number doses administered pregnant women administration period. monoclonal_catchup_start start date monoclonal antibody administration infants <8 months. monoclonal_catchup_end end date monoclonal antibody administration infants <8 months. monoclonal_catchup_doses number monoclonal antibody doses administered infants <8 months (excluding birth doses). monoclonal_birth_start start date monoclonal antibody birth doses. monoclonal_birth_end end date monoclonal antibody birth doses. monoclonal_birth_doses number monoclonal antibody doses administered birth doses. scenario_name user defined scenario name. Suggest name Scenarios ,B,C,D, etc. Shiny App work make sure one scenario named \"Counterfactual\" projection_intervals Whether calculate projection intervals. Default = TRUE","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/scenario_projection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Scenario Projections (function) — scenario_projection","text":"data frame weekly RSV hospitalizations age group user defined projection period. projection_intervals = TRUE 100 trajectories returned. convert point estimate projection intervals take median 95% quantiles 100 trajectories.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/scenario_projection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Scenario Projections (function) — scenario_projection","text":"","code":"dat = get_data(state_or_county=\"state\",state_abbr=\"CA\",county_name=NULL) #> Using the Vintage 2022 Population Estimates #> Using the Vintage 2022 Population Estimates parmset=dat[[1]] yinit=dat[[2]] yinit.vector=dat[[3]]  scenario_a = scenario_projection(fitted_parms=fitLL, #output from the fit_model() function                             parmset = parmset,                             yinit=yinit,                             yinit.vector=yinit.vector,                             data_start = '2016-10-08',                             projection_start = '2024-10-01',                             projection_end = '2025-06-01',                             adult_start = '2024-08-01',                             adult_end = '2025-05-01',                             adult75_doses = 100000,                             adult75_doses_last_year=250000,                             adult65_74_doses = 100000,                             adult65_74_doses_last_year=250000,                             maternal_start = '2024-09-01',                             maternal_end = '2025-04-01',                             maternal_doses = 50000,                             monoclonal_catchup_start = '2024-10-01',                             monoclonal_catchup_end = '2025-04-01',                             monoclonal_catchup_doses = 50000,                             monoclonal_birth_start = '2024-10-01',                             monoclonal_birth_end = '2025-04-01',                             monoclonal_birth_doses = 50000,                             scenario_name=\"Scenario A\",                             projection_intervals=TRUE)"},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Time series of RSV hospitalizations (data frame) — timeseries","title":"Time series of RSV hospitalizations (data frame) — timeseries","text":"Weekly RSV hospitalizations (ages). Data available 7 states began participation RSV-Net 2016. RSV-Net provides data RSV hospitalization rates. converted approximate number hospitalizations use model. RSV-Net include data children 2018. Simulated data children added based weekly average RSV hospitalization rate 2018-19 2019-20 RSV seasons.","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time series of RSV hospitalizations (data frame) — timeseries","text":"","code":"timeseries"},{"path":[]},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/timeseries.html","id":"timeseries","dir":"Reference","previous_headings":"","what":"timeseries","title":"Time series of RSV hospitalizations (data frame) — timeseries","text":"data frame 1274 rows 3 columns: date MMWR week state state name (California, Georgia, Maryland, Minnesota, New York, Tennessee, Oregon) value estimated number RSV hospitalizations","code":""},{"path":"https://chelsea-hansen.github.io/R.Scenario.Vax/reference/timeseries.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Time series of RSV hospitalizations (data frame) — timeseries","text":"https://data.cdc.gov/Public-Health-Surveillance/Weekly-Rates--Laboratory-Confirmed-RSV-Hospitali/29hc-w46k/about_data","code":""}]
